name: Quick File Bot Test
on:
  workflow_dispatch:

jobs:
  test-bot:
    runs-on: ubuntu-latest
    timeout-minutes: 5  # ÙÙ‚Ø· 5 Ø¯Ù‚ÛŒÙ‚Ù‡ Ø§Ø¬Ø±Ø§ Ø´ÙˆØ¯
    steps:
    - name: Test Telegram connection
      run: |
        echo "ğŸ”— ØªØ³Øª Ø§ØªØµØ§Ù„ Ø¨Ù‡ Telegram..."
        curl -s "https://api.telegram.org/bot7897337548:AAGudjNDkUM5pUWx93mdc6kFBrSqusuj_NA/getMe" | python3 -m json.tool
        
        echo "âœ… ØªÙˆÚ©Ù† Ø±Ø¨Ø§Øª Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª"
        echo "ğŸ¤– Ù†Ø§Ù… Ø±Ø¨Ø§Øª: $(curl -s https://api.telegram.org/bot7897337548:AAGudjNDkUM5pUWx93mdc6kFBrSqusuj_NA/getMe | grep -o '"username":"[^"]*' | cut -d'"' -f4)"

    - name: Send test message
      run: |
        echo "ğŸ“¤ Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… ØªØ³Øª..."
        curl -s -X POST \
          "https://api.telegram.org/bot7897337548:AAGudjNDkUM5pUWx93mdc6kFBrSqusuj_NA/sendMessage" \
          -d "chat_id=123456789" \
          -d "text=ğŸ¤– Ø±Ø¨Ø§Øª Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª! (ØªØ³Øª Ø§Ø² GitHub Actions)" \
          || echo "âš ï¸ Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯"

    - name: Show bot info
      run: |
        echo "=========================================="
        echo "ğŸ¤– TELEGRAM BOT INFORMATION"
        echo "=========================================="
        echo "Token: 7897337548:AAGudjNDkUM5pUWx93mdc6kFBrSqusuj_NA"
        echo "Bot URL: https://t.me/$(curl -s https://api.telegram.org/bot7897337548:AAGudjNDkUM5pUWx93mdc6kFBrSqusuj_NA/getMe | grep -o '"username":"[^"]*' | cut -d'"' -f4)"
        echo ""
        echo "ğŸ’¡ Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡:"
        echo "1. Ø¨Ø§ Ø±Ø¨Ø§Øª Ø¯Ø± Telegram Ú†Øª Ú©Ù†ÛŒØ¯"
        echo "2. ÙØ§ÛŒÙ„ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯"
        echo "3. Ø±Ø¨Ø§Øª Ù¾Ø§Ø³Ø® Ø®ÙˆØ§Ù‡Ø¯ Ø¯Ø§Ø¯"
        echo "=========================================="
